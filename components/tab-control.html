<section class="tab-panel" id="tab-control" role="tabpanel">
    <div class="panel-grid">
        <!-- Live Telemetry card -->
        <section class="card telemetry">
            <h2>Live Telemetry</h2>
            
            <div class="metrics-grid">
                <div class="metric-row">
                    <article class="metric">
                        <h3>Voltage</h3>
                        <p id="voltageMetric">--</p>
                    </article>
                    <article class="metric">
                        <h3>Current</h3>
                        <p id="currentMetric">--</p>
                    </article>
                    <article class="metric">
                        <h3>Power</h3>
                        <p id="powerMetric">--</p>
                    </article>
                </div>
                <div class="metric-row">
                    <article class="metric">
                        <h3>RPM</h3>
                        <p id="rpmMetric">--</p>
                    </article>
                    <article class="metric">
                        <h3>Thrust</h3>
                        <p id="thrustMetric">--</p>
                    </article>
                </div>
                <div class="metric-row">
                    <article class="metric">
                        <h3>ESC Temp</h3>
                        <p id="escTempMetric">--</p>
                    </article>
                    <article class="metric">
                        <h3>Motor Temp</h3>
                        <p id="motorTempMetric">--</p>
                    </article>
                </div>
            </div>
        </section>

        <!-- Control Actions card -->
        <section class="card telemetry">
            <h2>Control Actions</h2>
            <div class="slide-to-arm-wrapper" data-connected-only data-profile-required>
                <div class="slide-to-arm" id="slideToArm">
                    <div class="slide-track">
                        <span class="slide-text">Slide to ARM >> </span>
                    </div>
                    <div class="slide-button" id="slideButton">
                        <span>>></span>
                    </div>
                </div>
                <label class="checkbox-label">
                    <input type="checkbox" id="forceArmCheckbox" disabled data-connected-only data-profile-required>
                    <span style="font-size: 0.8rem;">Force</span>
                </label>
            </div>


            <div class="button-row">
                <button id="disarmButton" class="neutral" disabled data-connected-only data-profile-required>Disarm</button>
            </div>

            <label class="inline-field" style="gap: 0.5rem;">
                <span style="min-width: auto; text-align: left;">Throttle:</span>
                <input type="range" id="throttleSlider" min="48" max="2047" value="48" disabled data-connected-only data-profile-required style="flex: 1;">
                <span id="throttleValue" style="min-width: 45px; text-align: right;">0.00</span>
                <span>%</span>
            </label>


            <!-- <label>
                Test Duration (s)
                <input type="number" id="testDuration" min="1" max="600" value="30" disabled data-connected-only>
            </label>


            <label class="select">
                Test Mode
                <select id="testMode" disabled data-connected-only>
                    <option value="step">Step Response</option>
                    <option value="sweep">Sweep</option>
                    <option value="hover">Hover Hold</option>
                    <option value="custom">Custom</option>
                </select>
            </label>
            <div class="button-row">
                <button id="runTestButton" class="success" disabled data-connected-only>Run Test</button>
                <button id="stopTestButton" class="neutral" disabled data-connected-only>Stop Test</button>
            </div> -->
        </section>

        <!-- Status card -->
        <section class="card telemetry">
            <h2>Status</h2>
            <p id="controlStatus">Awaiting connection.</p>
        </section>
        <!-- Status Indicators -->
            <div class="status-indicators">
                <div class="status-group">
                    <span class="status-label">Init:</span>
                    <div class="status-dot" id="status-cfg" title="User Config Profile" data-name="CFG"></div>
                    <div class="status-dot" id="status-dshot" title="DSHOT" data-name="DSHOT"></div>
                    <div class="status-dot" id="status-kiss" title="KISS Telemetry" data-name="KISS"></div>
                    <div class="status-dot" id="status-hx711" title="HX711 Load Cell" data-name="HX711"></div>
                    <div class="status-dot" id="status-ntc" title="NTC Sensor" data-name="NTC"></div>
                </div>
                <div class="status-group">
                    <span class="status-label">Tasks:</span>
                    <div class="status-dot" id="status-dshot-task" title="DSHOT Task" data-name="DSHOT Task"></div>
                    <div class="status-dot" id="status-kiss-task" title="KISS Task" data-name="KISS Task"></div>
                    <div class="status-dot" id="status-sensor-task" title="Sensor Task" data-name="Sensor Task"></div>
                </div>
                <div class="status-group">
                    <span class="status-label">Runtime:</span>
                    <div class="status-dot" id="status-armed" title="Motor Armed" data-name="Armed"></div>
                    <div class="status-dot" id="status-spinning" title="Motor Spinning" data-name="Spinning"></div>
                    <div class="status-dot" id="status-dshot-send" title="DSHOT Send" data-name="DSHOT Send"></div>
                    <div class="status-dot" id="status-kiss-read" title="KISS Read" data-name="KISS Read"></div>
                    <div class="status-dot" id="status-hx711-tare" title="HX711 Tare" data-name="HX711 Tare"></div>
                    <div class="status-dot" id="status-hx711-read" title="HX711 Read" data-name="HX711 Read"></div>
                    <div class="status-dot" id="status-ntc-read" title="NTC Read" data-name="NTC Read"></div>
                </div>
                <div class="status-group">
                    <span class="status-label">Warnings:</span>
                    <div class="status-dot" id="status-warn-battery" title="Battery Low" data-name="Battery Low"></div>
                    <div class="status-dot" id="status-warn-esc" title="ESC Overheat" data-name="ESC Overheat"></div>
                    <div class="status-dot" id="status-warn-motor" title="Motor Overheat" data-name="Motor Overheat"></div>
                    <div class="status-dot" id="status-warn-current" title="Over Current" data-name="Over Current"></div>
                    <div class="status-dot" id="status-warn-rpm" title="Over RPM" data-name="Over RPM"></div>
                    <div class="status-dot" id="status-warn-stall" title="Motor Stall" data-name="Motor Stall"></div>
                    <div class="status-dot" id="status-warn-cfg" title="Config Profiles Full" data-name="Config Full"></div>
                </div>
            </div>
    </div>
</section>
